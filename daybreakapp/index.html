<html>

<head>
    <title>DaybreakApp</title>

    <meta content="DaybreakApp" property="og:title" />
    <meta content="Survivor and Killer randomizer for Daybreak." property="og:description" />
    <meta content="deceivingseagull.github.io/daybreakapp" property="og:url" />
    <meta content="deceivingseagull.github.io/daybreakapp/resources/icon.png" property="og:image" />
    <meta content="#484848" data-react-helmet="true" name="theme-color" />

    <link rel="icon" type="image/x-icon" href="https://deceivingseagull.github.io/daybreakapp/resources/favicon.ico">

    <style>
        .tab {
            overflow: hidden;
            border: 1px solid #ccc;
            background-color: black;
        }

        .tab button {
            background-color: transparent;
            color: rgb(255, 255, 255);
            float: left;
            border: 1px solid #ccc;
            cursor: pointer;
            padding: 14px 16px;
            transition: 0.3s;
        }

        .tab button:hover {
            background-color: grey;
        }

        .tab button.active {
            background-color: rgb(83, 88, 88);
        }

        .tabcontent {
            display: none;
            padding: 6px 12px;
            border: none;
            border-top: none;
            font-size: 20px;
        }

        .settingssection {
            font-size: 20px;
            line-height: 1.4;
        }

        .headline {
            font-size: 20px;
        }

        .checkboxlist {
            line-height: 1.4;
            border: 1px solid #ccc;
        }

        .normalbutton {
            background-color: rgb(104, 98, 98);
            color: rgb(255, 255, 255);
            border: 1px solid #ccc;
            cursor: pointer;
            padding: 10px 14px;
            transition: 0.3s;
        }

        .generatebutton {
            background-color: rgb(104, 98, 98);
            color: rgb(255, 255, 255);
            border: 1px solid #ccc;
            cursor: pointer;
            padding: 20px 30px;
            transition: 0.3s;
            font-size: 25px;
        }

        .resultsection {
            line-height: 1.5;
        }

        .resultlabel {
            display: inline-block;
            font-size: 25px;
        }
    </style>
</head>

<body bgcolor="#000000" text="#ffffff">

    <!-- Variables -->

    <script>

        let version = "1.2"
        let currentmode = "";

        let lastgenerations = {
            ["SurvivorPerk"]: -1,
            ["SurvivorCharacter"]: -1,
            ["Killer"]: -1,
        }

        let defaultsettings = {
            ["GenerateUniqueCharacter"]: "True",
            ["CharacterAmount"]: "1"
        }


        let icons = {
            ["Looper"]: "üëü",
            ["Genrusher"]: "‚ö°",
            ["Stealth"]: "üëÅÔ∏è",
            ["Support"]: "‚ù§Ô∏è",
            ["Anti-Loop"]: "üëü",
            ["Assault"]: "üî™",
            ["Gen-Control"]: "‚ö°",
            ["Mobility"]: "üçÉ",
        }



        let survivorList = [];
        survivorList[0] = {
            name: "Nami Deng",
            perk: "Hard Times",
            class: "Stealth"
        };
        survivorList[1] = {
            name: "Adriana Penn",
            perk: "Self Control",
            class: "Stealth"
        };
        survivorList[2] = {
            name: "Eiji Inagaki",
            perk: "Old Camera",
            class: "Looper"
        };
        survivorList[3] = {
            name: "Gabrielle Cole",
            perk: "Tracking Machine",
            class: "Genrusher"
        };
        survivorList[4] = {
            name: "Arlo Flores",
            perk: "Healer's Touch",
            class: "Support"
        };
        survivorList[5] = {
            name: "Riley West",
            perk: "Cheap Thrill",
            class: "Looper"
        };
        survivorList[6] = {
            name: "Iris Daley",
            perk: "Pot of Life",
            class: "Support"
        };
        survivorList[7] = {
            name: "Jun Inagaki",
            perk: "Tough",
            class: "Looper"
        };
        survivorList[8] = {
            name: "Yara Valle",
            perk: "Second Wind",
            class: "Looper"
        };
        survivorList[9] = {
            name: "Cora Madden",
            perk: "Investigative Eye",
            class: "Genrusher"
        };
        survivorList[10] = {
            name: "Mamo Ikaika",
            perk: "Mamo's Bat",
            class: "Looper",
            secondaryClass: "Support"
        };
        survivorList[11] = {
            name: "Seoung Kwan",
            perk: "Spiritual Connection",
            class: "Stealth"
        };
        survivorList[12] = {
            name: "Jack Sato",
            perk: "Stealthy",
            class: "Stealth"
        };
        survivorList[13] = {
            name: "Chaoxing Lai",
            perk: "Xingxing's Mic",
            class: "Looper",
            secondaryClass: "Support"
        };
        survivorList[14] = {
            name: "Taylor Dalton",
            perk: "Good Teacher",
            class: "Genrusher"
        };
        survivorList[15] = {
            name: "Dae-Jung Pak",
            perk: "Charm",
            class: "Support"
        };
        survivorList[16] = {
            name: "Yeona Jeung",
            perk: "Obsessed",
            class: "Looper",
            secondaryClass: "Support"
        };
        survivorList[17] = {
            name: "Kyle Wolfe",
            perk: "Bear Trap",
            class: "Looper",
            secondaryClass: "Support"
        };
        survivorList[18] = {
            name: "Serena Wolfe",
            perk: "Hunter's Instinct",
            class: "Support"
        };
        survivorList[19] = {
            name: "Yan Tian",
            perk: "Detection Machine",
            class: "Genrusher",
            secondaryClass: "Support"
        };
        survivorList[20] = {
            name: "Nathan Reyes",
            perk: "Wit's End",
            class: "Looper",
            secondaryClass: "Support"
        };
        survivorList[21] = {
            name: "Elizabeth Payne",
            perk: "Self Assurance",
            class: "Looper"
        };
        survivorList[22] = {
            name: "Yvonne Kojo",
            perk: "Fight or Flight",
            class: "Genrusher"
        };
        survivorList[23] = {
            name: "Becca Prescott",
            perk: "Sole Survivor",
            class: "Stealth",
            secondaryClass: "Genrusher"
        };
        survivorList[24] = {
            name: "Sarah Lindholm",
            perk: "Lone Wolf",
            class: "Stealth",
            secondaryClass: "Genrusher"
        };
        survivorList[25] = {
            name: "Lyndon Davenport",
            perk: "Rauhm",
            class: "Support"
        };
        survivorList[26] = {
            name: "Dakari Bowens",
            perk: "Heal Gun",
            class: "Support"
        };
        survivorList[27] = {
            name: "Saadiya Ali",
            perk: "Course Control",
            class: "Looper",
            secondaryClass: "Support"
        };
        survivorList[28] = {
            name: "Elijah Songaa",
            perk: "Breakthrough",
            class: "Support"
        };
        survivorList[29] = {
            name: "Eman Attia",
            perk: "Evanesce",
            class: "Looper",
        };
        survivorList[30] = {
            name: "Aaaqil Che",
            perk: "Adaptability",
            class: "Genrusher"
        };
        survivorList[31] = {
            name: "Yronica Ayala",
            perk: "Egocentric Leech",
            class: "Looper"
        };
        survivorList[32] = {
            name: "Callum Gallagher",
            perk: "Team Spirit",
            class: "Support",
            secondaryClass: "Looper"
        };
        survivorList[33] = {
            name: "Emery Rivera",
            perk: "Disappearing Act",
            class: "Genrusher",
            secondaryClass: "Stealth"
        };
        survivorList[34] = {
            name: "Amari Taymiyyah",
            perk: "Vagrant's Trick",
            class: "Looper"
        };
        survivorList[35] = {
            name: "Sanjana Dewan",
            perk: "Quiet Steps",
            class: "Stealth",
            secondaryClass: "Support"
        };
        survivorList[36] = {
            name: "Kelvin Mars",
            perk: "Sonar Dart",
            class: "Support"
        };
        survivorList[37] = {
            name: "Gavin Prescott",
            perk: "Gavin's Pistol",
            class: "Genrusher",
            secondaryClass: "Support",
            unofficialClass: "Support"
        };
        survivorList[38] = {
            name: "Parker Kaplan",
            perk: "Triple Mocktail",
            class: "Genrusher"
        };
        survivorList[39] = {
            name: "Crosby Aldrich",
            perk: "Royal Rule",
            class: "Genrusher"
        };
        survivorList[40] = {
            name: "Rayner Byrne",
            perk: "Rayner's Shield",
            class: "Looper",
            secondaryClass: "Support"
        };
        survivorList[41] = {
            name: "Serena 'Sera' Vera",
            perk: "Smooth Skating",
            class: "Looper"
        };
        survivorList[42] = {
            name: "Dakota Nicole",
            perk: "Flame Sprayer",
            class: "Looper",
            secondaryClass: "Support"
        };
        survivorList[43] = {
            name: "Ryder Parikh",
            perk: "Detail Oriented",
            class: "Looper"
        };
        survivorList[44] = {
            name: "Makoto Shizuka",
            perk: "Shortcut",
            class: "Genrusher",
            secondaryClass: "Stealth"
        };
        survivorList[45] = {
            name: "Crystal Kaur",
            perk: "Clear Quartz",
            class: "Stealth",
            secondaryClass: "Support"
        };
        survivorList[46] = {
            name: "Emil Singh",
            perk: "Inspire",
            class: "Support"
        };
        survivorList[47] = {
            name: "Jonas Weber",
            perk: "Sanity Soda",
            class: "Looper"
        };
        survivorList[48] = {
            name: "Wren Harris",
            perk: "Menial Work",
            class: "Genrusher"
        };
        survivorList[49] = {
            name: "Tabitha Harris",
            perk: "Maternal Instinct",
            class: "Support"
        };
        survivorList[50] = {
            name: "Kiara Cruz",
            perk: "Life of the Party",
            class: "Stealth",
            secondaryClass: "Genrusher"
        };
        survivorList[51] = {
            name: "Anais Desir",
            perk: "Complete Control",
            class: "Genrusher"
        };
        survivorList[52] = {
            name: "Dante Fontana-Rosa",
            perk: "Plane of Elysium",
            class: "Support"
        };
        survivorList[53] = {
            name: "Evelyn Maurelle",
            perk: "Dirty Work",
            class: "Support",
            secondaryClass: "Stealth"
        };

        let killerlist = [];
        killerlist[0] = {
            name: "The Slasher",
            class: "Anti-Loop"
        };
        killerlist[1] = {
            name: "The Host",
            class: "Anti-Loop"
        };
        killerlist[2] = {
            name: "The Ghost",
            class: "Mobility"
        };
        killerlist[3] = {
            name: "The Showstopper",
            class: "Anti-Loop"
        };
        killerlist[4] = {
            name: "The Unforgotten",
            class: "Mobility"
        };
        killerlist[5] = {
            name: "The Werewolf",
            class: "Assault"
        };
        killerlist[6] = {
            name: "The Idol",
            class: "Assault"
        };
        killerlist[7] = {
            name: "The Android",
            class: "Gen-Control"
        };
        killerlist[8] = {
            name: "The Warden",
            class: "Anti-Loop"
        };
        killerlist[9] = {
            name: "The Polluted",
            class: "Anti-Loop"
        };
        killerlist[10] = {
            name: "The Stalker",
            class: "Assault"
        };
        killerlist[11] = {
            name: "The Banshee",
            class: "Gen-Control"
        };
        killerlist[12] = {
            name: "The Principal",
            class: "Gen-Control"
        };
        killerlist[13] = {
            name: "The Janitor",
            class: "Anti-Loop"
        };
        killerlist[14] = {
            name: "The Apostate",
            class: "Assault"
        };
        killerlist[15] = {
            name: "The Watcher",
            class: "Gen-Control"
        };
        killerlist[16] = {
            name: "The Surgeon",
            class: "Assault"
        };
        killerlist[17] = {
            name: "The Voidskulk",
            class: "Mobility",
            secondaryClass: "Gen-Control"
        };
        killerlist[18] = {
            name: "The Empress",
            class: "Anti-Loop"
        };
        killerlist[19] = {
            name: "The Boss",
            class: "Assault"
        };
        killerlist[20] = {
            name: "The Possessed",
            class: "Mobility",
            unofficialClass: "Anti-Loop"
        };
        killerlist[21] = {
            name: "The Experiment",
            class: "Gen-Control",
            secondaryClass: "Mobility"
        };
        killerlist[22] = {
            name: "The Stareater",
            class: "Mobility"
        };


        if (localStorage.checkedSurvivors === null || localStorage.checkedSurvivors === undefined) {
            localStorage.checkedSurvivors = "";
        }
        if (localStorage.checkedKillers === null || localStorage.checkedKillers === undefined) {
            localStorage.checkedKillers = "";
        }

        for (let [option, value] of Object.entries(defaultsettings)) {
            if (localStorage.getItem(option) === null || localStorage.getItem(option) === undefined) {
                localStorage.setItem(option, value);
            }
        }
    </script>



    <section>
        <img src="resources/icon.png" style="width:80px; height: 80px;">
    </section>

    <br>

    <template id="SurvivorGenerationTemplate">
        <label id="generatedPerkLabel" class="resultlabel">Perk:</label><br>
        <label id="generatedCharacterLabel" class="resultlabel">Character:</label>
        <br>
    </template>

    <template id="KillerGenerationTemplate">
        <label id="generatedKillerLabel" class="resultlabel">Killer:</label>
        <br>
    </template>

    <div class="tab">
        <button class="tablinks" onclick="openTab(event, 'Survivor Randomizer Tab', 'Survivor')"
            id="SurvivorRandomizerTab">Survivor
            Randomizer</button>
        <button class="tablinks" onclick="openTab(event, 'Killer Randomizer Tab', 'Killer')"
            id="KillerRandomizerTab">Killer
            Randomizer</button>
    </div>

    <!-- Survivor Randomizer Tab -->

    <div id="Survivor Randomizer Tab" class="tabcontent">
        <h2>Survivor Randomizer</h2>
        This tool will give you a random perk you can use in your next game.<br>
        It will also give you a random character which you can use if you have the perk unlocked.<br>
        <br>

        Select all survivors you want to be part of the randomizer and then hit Generate!

        <br>

        (Tip: Use CTRL + F to search for a survivor or perk!)
        <br><br>



        <br>

        <button class="normalbutton" onclick="ToggleAll('SurvivorList', true)">Activate all</button>
        <button class="normalbutton" onclick="ToggleAll('SurvivorList', false)">Deactivate all</button>
        <br><br>
        <button class="normalbutton" onclick="ToggleClass('SurvivorList','Looper', true)">Activate all Looper üëü</button>
        <button class="normalbutton" onclick="ToggleClass('SurvivorList','Genrusher', true)">Activate all Genrusher ‚ö°</button>
        <button class="normalbutton" onclick="ToggleClass('SurvivorList','Stealth', true)">Activate all Stealth üëÅÔ∏è</button>
        <button class="normalbutton" onclick="ToggleClass('SurvivorList','Support', true)">Activate all Support ‚ù§Ô∏è</button>
        <br><br>
        <button class="normalbutton" onclick="ToggleClass('SurvivorList','Looper', false)">Deactivate all Looper üëü</button>
        <button class="normalbutton" onclick="ToggleClass('SurvivorList','Genrusher', false)">Deactivate all Genrusher ‚ö°</button>
        <button class="normalbutton" onclick="ToggleClass('SurvivorList','Stealth', false)">Deactivate all Stealth üëÅÔ∏è</button>
        <button class="normalbutton" onclick="ToggleClass('SurvivorList','Support', false)">Deactivate all Support ‚ù§Ô∏è</button>
        <br><br>


        <section id="SurvivorList" class="checkboxlist">

        </section>

    </div>


    <!-- Killer Randomizer Tab -->

    <div id="Killer Randomizer Tab" class="tabcontent">
        <h2>Killer Randomizer</h2>
        This tool will give you a random killer you can use in your next game.<br>
        <br>

        Select all killers you want to be part of the randomizer and then hit Generate!

        <br>

        (Tip: Use CTRL + F to search for a killer!)
        <br><br>

        <button class="normalbutton" onclick="ToggleAll('KillerList', true)">Activate all</button>
        <button class="normalbutton" onclick="ToggleAll('KillerList', false)">Deactivate all</button>
        <br><br>
        <button class="normalbutton" onclick="ToggleClass('KillerList','Anti-Loop', true)">Activate all Anti-Loop üëü</button>
        <button class="normalbutton" onclick="ToggleClass('KillerList','Gen-Control', true)">Activate all Gen-Control ‚ö°</button>
        <button class="normalbutton" onclick="ToggleClass('KillerList','Mobility', true)">Activate all Mobility üçÉ</button>
        <button class="normalbutton" onclick="ToggleClass('KillerList','Assault', true)">Activate all Assault üî™</button>
        <br><br>
        <button class="normalbutton" onclick="ToggleClass('KillerList','Anti-Loop', false)">Deactivate all Anti-Loop üëü</button>
        <button class="normalbutton" onclick="ToggleClass('KillerList','Gen-Control', false)">Deactivate all Gen-Control ‚ö°</button>
        <button class="normalbutton" onclick="ToggleClass('KillerList','Mobility', false)">Deactivate all Mobility üçÉ</button>
        <button class="normalbutton" onclick="ToggleClass('KillerList','Assault', false)">Deactivate all Assault üî™</button>
        <br><br>

        <section id="KillerList" class="checkboxlist">

        </section>

    </div>

    <hr>
    <!-- Settings -->
    <section class="settingssection">
        <h2>Settings</h2>

        <h3>General</h3>

        <label for="GenerateUniqueCharacter">Generate unique characters</label><input type="checkbox"
            id="GenerateUniqueCharacter" onChange="UpdateSetting('GenerateUniqueCharacter')"><br>
        <label for="CharacterAmount">Amount of characters</label> <input id="CharacterAmount"
            onChange="UpdateSetting('CharacterAmount')"><br>
        <h3>Classes</h3>
        I added secondary and unofficial classes for some characters.<br>
        Secondary Class: The character also excels in this class.<br>
        Unofficial Class: The character rather excels in this class instead of the one given by the game.<br>
        <br>
        <label for="UseSecondaryClasses">Use secondary classes along with the first class</label> <input type="checkbox" id="UseSecondaryClasses"
            onChange="UpdateSetting('UseSecondaryClasses')"><br>
        <label for="UseUnofficialClasses">Override the normal class with the unofficial class</label> <input type="checkbox" id="UseUnofficialClasses"
            onChange="UpdateSetting('UseUnofficialClasses')"><br>

    </section>
    <br>
    <hr>
    <br>
    <button class="generatebutton" onclick="GenerateRandom()">Generate!</button>
    
    <br><br>

    <section class="headline">
        <h2>Results</h2>
    </section>
    
    <section class="resultsection" id="ResultList">
        
    </section>


    <button class="normalbutton" style="float: right" onclick="ResetData()">Reset Data</button>
    <br>
    <center><label id="versionLabel">Version</label></center>

    <!-- Randomizer Functions -->

    <script>
        function GenerateRandom() {
            let resultList = document.getElementById("ResultList");
            resultList.innerHTML = "";

            if (currentmode === "Survivor") {
                GetRandomSurvivor()
            } else if (currentmode === "Killer") {
                GetRandomKiller()
            }
        }


        function GetRandomSurvivor() {
            let survivorListElement = document.getElementById("SurvivorList");
            let resultList = document.getElementById("ResultList");
            let survivorGenerateButton = document.getElementById("survivorGenerateButton");

            let characteramount = Number(localStorage.CharacterAmount);


            let randomperkpool = []
            let randomcharacterpool = []

            for (index = 0; index < survivorListElement.children.length; index++) {
                let element = survivorListElement.children[index];
                if (element.type == "checkbox") {
                    if (element.checked == true) {
                        let survivor = FindSurvivorInList("name", element.name);
                        let perk = survivor.perk;
                        let addon = "'s";

                        if (element.name.charAt(element.name.length - 1) == 's') {
                            addon = "'";
                        }

                        randomperkpool.push(perk + " (" + element.name + addon + " perk)");
                        randomcharacterpool.push(element.name);
                    }
                }
            }

            if (randomperkpool.length <= 1) {
                alert("You need to select at least two survivors!");
            } else if (randomperkpool.length < characteramount) {
                alert("You need to select as many survivors as you want to generate!")
            } else {

                for (generation = 0; generation < characteramount; generation++) {
                    let template = document.getElementById("SurvivorGenerationTemplate");
                    let clone = template.content.cloneNode(true);

                    let perklabel = clone.querySelector("#generatedPerkLabel");
                    let characterLabel = clone.querySelector("#generatedCharacterLabel");

                    if (characteramount === 1 && localStorage.GenerateUniqueCharacter === "True") {
                        if (lastgenerations.SurvivorPerk != -1) {
                            for (perkindex = 0; perkindex < randomperkpool.length; perkindex++) {
                                let perk = randomperkpool[perkindex];
                                if (perk === lastgenerations.SurvivorPerk) {
                                    randomperkpool.splice(perkindex, 1)
                                    break;
                                }
                            }
                            for (charindex = 0; charindex < randomcharacterpool.length; charindex++) {
                                let character = randomcharacterpool[charindex];
                                if (character === lastgenerations.SurvivorCharacter) {
                                    randomcharacterpool.splice(charindex, 1)
                                    break;
                                }
                            }
                        }
                    }

                    let randomperkindex = Math.floor(Math.random() * randomperkpool.length);
                    let randomcharacterindex = Math.floor(Math.random() * randomcharacterpool.length);

                    let randomperk = randomperkpool[randomperkindex];
                    let randomcharacter = randomcharacterpool[randomcharacterindex];


                    if (localStorage.GenerateUniqueCharacter === "True") {
                        randomperkpool.splice(randomperkindex, 1);
                        randomcharacterpool.splice(randomcharacterindex, 1);
                    }

                    let perkLabel = "Perk: " + randomperk;

                    perklabel.innerHTML = perkLabel;
                    characterLabel.innerHTML = "Character: " + randomcharacter;

                    if (generation < characteramount - 1) {
                        let line = document.createElement("hr");
                        clone.appendChild(line);
                    }

                    if (characteramount === 1) {
                        lastgenerations.SurvivorPerk = randomperk;
                        lastgenerations.SurvivorCharacter = randomcharacter;
                    }

                    resultList.appendChild(clone);
                }

            }
        }

        function GetRandomKiller() {

            let killerListElement = document.getElementById("KillerList");
            let resultList = document.getElementById("ResultList");

            let characteramount = Number(localStorage.CharacterAmount);

            let randomcharacterpool = []

            for (i = 0; i < killerListElement.children.length; i++) {
                let element = killerListElement.children[i];
                if (element.type == "checkbox") {
                    if (element.checked == true) {
                        randomcharacterpool.push(element.name);
                    }
                }
            }

            if (randomcharacterpool.length <= 1) {
                alert("You need to select at least two killers!");
            } else if (randomcharacterpool.length < characteramount) {
                alert("You need to select as many killers as you want to generate!");
            } else {

                for (generation = 0; generation < characteramount; generation++) {
                    let template = document.getElementById("KillerGenerationTemplate");
                    let clone = template.content.cloneNode(true);

                    if (characteramount === 1 && localStorage.GenerateUniqueCharacter === "True") {
                        if (lastgenerations.Killer != -1) {
                            for (killerindex = 0; killerindex < randomcharacterpool.length; killerindex++) {
                                let killer = randomcharacterpool[killerindex]

                                if (killer === lastgenerations.Killer) {
                                    randomcharacterpool.splice(killerindex, 1);
                                }
                            }
                        }
                    }

                    let randomcharacterindex = Math.floor(Math.random() * randomcharacterpool.length)
                    let randomcharacter = randomcharacterpool[randomcharacterindex];

                    if (localStorage.GenerateUniqueCharacter === "True") {
                        randomcharacterpool.splice(randomcharacterindex, 1);
                    }

                    if (generation < characteramount - 1) {
                        let line = document.createElement("hr");
                        clone.appendChild(line);
                    }

                    if (characteramount === 1) {
                        lastgenerations.Killer = randomcharacter;
                    }

                    let label = clone.querySelector("#generatedKillerLabel");

                    label.innerHTML = "Killer: " + randomcharacter;

                    resultList.appendChild(clone);
                }

            }
        }

    </script>

    <!-- Website Functions -->

    <script>
        function openTab(event, tabName, mode) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            tablinks = document.getElementsByClassName("tablinks");

            for (i = 0; i < tablinks.length; i++) {
                tabcontent[i].style.display = "none";
            }

            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }

            document.getElementById(tabName).style.display = "block";
            currentmode = mode;
            event.currentTarget.className += " active";
        }

        function ToggleAll(list, change) {
            let listElement = document.getElementById(list);
            let type = ""

            if (list === "SurvivorList") {
                type = "Survivor";
            } else if (list === "KillerList") {
                type = "Killer";
            }

            for (index = 0; index < listElement.children.length; index++) {
                let element = listElement.children[index];

                if (element.type == "checkbox") {
                    element.checked = change;
                    SaveCheckboxOption(element.name, type);
                }

            }

        }

        function ToggleClass(list, characterClass, change) {
            let listElement = document.getElementById(list);
            let type = ""
            let requiredList = ""

            let useSecondaryClassesElement = document.getElementById("UseSecondaryClasses");
            let useUnofficialClassesElement = document.getElementById("UseUnofficialClasses");

            if (list === "SurvivorList") {
                type = "Survivor";
                requiredList = survivorList;
            } else if (list === "KillerList") {
                type = "Killer";
                requiredList = killerlist;
            }

            for (index = 0; index < listElement.children.length; index++) {
                let element = listElement.children[index];

                if (element.type == "checkbox") {
                    let splitId = element.id.split(type + "_")
                    let characterId = splitId[1].split("_Checkbox")[0]



                    let characterEntry = requiredList[Number(characterId)];


                    var isClass = false

                    if (characterEntry.class == characterClass) {
                        isClass = true
                    }
                    if (useUnofficialClassesElement.checked == true && characterEntry.unofficialClass != undefined) {
                        if (characterEntry.unofficialClass != characterClass) {
                            isClass = false
                        }
                    }
                    if (useSecondaryClassesElement.checked == true && characterEntry.secondaryClass == characterClass) {
                        isClass = true
                    }
                    if (useUnofficialClassesElement.checked == true && characterEntry.unofficialClass == characterClass) {
                        isClass = true
                    }


                    if (isClass == true) {
                        element.checked = change;
                        SaveCheckboxOption(element.name, type);
                    }
                }
            }
        }


        function FindSurvivorInList(key, value) {
            for (i = 0; i < survivorList.length; i++) {
                let survivor = survivorList[i];

                if (survivor[key] === value) {
                    return survivor
                }
            }
        }

        function FindKillerInList(key, value) {
            for (i = 0; i < killerlist.length; i++) {
                let killer = killerlist[i];

                if (killer[key] === value) {
                    return killer
                }
            }
        }

        function CheckIfSaved(saveString, id) {
            let split = saveString.split(',')

            if (split.length > 0 && !split[0] == "") {
                for (i = 0; i < split.length; i++) {
                    let value = split[i];

                    if (value === id) {
                        return true;
                    }
                }
            }


            return false;
        }

        function SaveCheckboxOption(name, type) {

            let array = []
            let savedstring = "";
            let listEntry = {};

            if (type === "Survivor") {
                savedstring = localStorage.checkedSurvivors;
                listEntry = FindSurvivorInList("name", name);
            } else if (type === "Killer") {
                savedstring = localStorage.checkedKillers;

                listEntry = FindKillerInList("name", name);
            }

            let checkbox = document.getElementById(type + "_" + listEntry.id.toString() + "_Checkbox")
            if (savedstring === "") {
                array = []
            } else {
                array = savedstring.split(',');
            }



            let i = 0;
            while (i < array.length) {
                if (array[i] === listEntry.id.toString()) {
                    array.splice(i, 1);
                } else {
                    i++;
                }
            }


            if (checkbox.checked === true) {
                array.push(listEntry.id);
            }

            savedstring = array.toString();

            if (type === "Survivor") {
                localStorage.setItem("checkedSurvivors", savedstring);
            } else if (type === "Killer") {
                localStorage.setItem("checkedKillers", savedstring);
            }


        }

        function ResetData() {
            if (confirm("Are you sure you want to reset your data?") == true) {
                localStorage.checkedSurvivors = "";
                localStorage.checkedKillers = "";

                for (let [option, value] of Object.entries(defaultsettings)) {
                    localStorage.setItem(option, value);
                }

                alert("Data reset!");
            }


        }

        function AddIDsToCollection() {
            for (index = 0; index < survivorList.length; index++) {
                survivorList[index].id = index;
            }
            for (index = 0; index < killerlist.length; index++) {
                killerlist[index].id = index;
            }
        }

        function ConvertOldSaveData() {
            if (!localStorage.didNameToIdConversion === true) {
                let changed = false;

                let oldSurvivorList = localStorage.checkedSurvivors.toString()
                let oldKillerList = localStorage.checkedKillers.toString()

                let survivorNames = [];
                let killerNames = [];

                //     for (index = 0; index < survivorList.length; index++) {
                //         let survivor = survivorList[index];
                //          survivorNames.push(survivor.name);
                //     }
                //      for (index = 0; index < killerlist.length; index++) {
                //          let killer = killerlist[index];
                //         killerNames.push(killer.name);
                //    }

                for (index = 0; index < survivorList.length; index++) {
                    let survivor = survivorList[index];
                    localStorage.checkedSurvivors = localStorage.checkedSurvivors.replace(survivor.name, survivor.id.toString())
                }

                for (index = 0; index < killerlist.length; index++) {
                    let killer = killerlist[index];
                    localStorage.checkedKillers = localStorage.checkedKillers.replace(killer.name, killer.id.toString())
                }


                localStorage.didNameToIdConversion = true;
            }




        }


        function UpdateSetting(setting) {

            let element = document.getElementById(setting);

            // Special Cases

            if (setting === "CharacterAmount") {
                if (isNaN(element.value)) {
                    alert("Please enter a valid number!");
                    return;
                } else {
                    let num = Number(element.value);
                    if (!Number.isInteger(num)) {
                        alert("Please enter a full number!");
                        return;
                    } else {
                        if (num < 0) {
                            alert("Please enter a positive number!");
                            return;
                        }
                    }
                }
            }

            // Update

            if (element.type === "checkbox") {
                if (element.checked === true) {
                    localStorage.setItem(setting, "True");
                } else {
                    localStorage.setItem(setting, "False");
                }
            } else if (element.type === "text") {
                localStorage.setItem(setting, element.value);
            }

        }

    </script>

    <!-- Load data and fill in variables -->
    <script>
        let survivorTab = document.getElementById("SurvivorList");
        let killerTab = document.getElementById("KillerList");

        AddIDsToCollection()

        ConvertOldSaveData()

        for (index = 0; index < survivorList.length; index++) {
            let survivor = survivorList[index];
            let checkbox = document.createElement("input");

            checkbox.setAttribute("type", "checkbox");
            checkbox.setAttribute("id", "Survivor_" + index.toString() + "_Checkbox");

            checkbox.setAttribute("name", survivor.name);
            checkbox.setAttribute("value", survivor.name);

            checkbox.addEventListener("change", function () {
                SaveCheckboxOption(survivor.name, "Survivor");
            }, false);

            let label = document.createElement("label");
            label.setAttribute("for", survivor.name);

            let survivorLabel = survivor.name + " (" + survivor.perk + ") "
            survivorLabel = survivorLabel + icons[survivor.class] // Apply icon for first class

            // If survivor has a second class, apply icon

            if (survivor.secondaryClass != undefined) {
                survivorLabel = survivorLabel + " / " + icons[survivor.secondaryClass];
            }

            // If survivor has an unofficial class, apply icon and warning

            if (survivor.unofficialClass != undefined) {
                survivorLabel = survivorLabel + " [Unofficial: " + icons[survivor.unofficialClass] + "]";
            }

            survivorLabel = survivorLabel + "<br>";

            label.innerHTML = survivorLabel

            if (CheckIfSaved(localStorage.checkedSurvivors, index.toString())) {
                checkbox.checked = true;
            }


            survivorTab.appendChild(checkbox);
            survivorTab.appendChild(label);
        }

        for (index = 0; index < killerlist.length; index++) {
            let killer = killerlist[index];

            let checkbox = document.createElement("input");
            checkbox.setAttribute("type", "checkbox");
            checkbox.setAttribute("id", "Killer_" + index.toString() + "_Checkbox");
            checkbox.setAttribute("name", killer.name);
            checkbox.setAttribute("value", killer.name);

            checkbox.addEventListener("change", function () {
                SaveCheckboxOption(killer.name, "Killer");
            }, false);

            let label = document.createElement("label");
            label.setAttribute("for", killer.name);

            let killerLabel = killer.name + " ";
            killerLabel = killerLabel + icons[killer.class]; // Apply icon for class

            // If killer has a secondary class, apply icon

            if (killer.secondaryClass != undefined) {
                killerLabel = killerLabel + " / " + icons[killer.secondaryClass];
            }


            // If killer has an unoffical class, apply icon and warning

            if (killer.unofficialClass != undefined) {
                killerLabel = killerLabel + " [Unofficial: " + icons[killer.unofficialClass] + "]"
            }
            

            killerLabel = killerLabel + "<br>";
            label.innerHTML = killerLabel;


            if (CheckIfSaved(localStorage.checkedKillers, index.toString())) {
                checkbox.checked = true;
            }

            killerTab.appendChild(checkbox);
            killerTab.appendChild(label);
        }

        // Apply Settings

        let generateuniquecharacter = document.getElementById("GenerateUniqueCharacter");
        let characteramount = document.getElementById("CharacterAmount");
        let useSecondaryClasses = document.getElementById("UseSecondaryClasses");
        let useUnofficialClasses = document.getElementById("UseUnofficialClasses");

        if (localStorage.GenerateUniqueCharacter === "True") {
            generateuniquecharacter.checked = true;
        }
        if (localStorage.UseSecondaryClasses === "True") {
            useSecondaryClasses.checked = true;
        }
        if (localStorage.UseUnofficialClasses === "True") {
            useUnofficialClasses.checked = true;
        }

        characteramount.value = localStorage.CharacterAmount;

    </script>


    <!-- Open default tab and set version number -->
    <script>
        document.getElementById("versionLabel").innerHTML = "Version " + version
        document.getElementById("SurvivorRandomizerTab").click();
    </script>

</body>

</html>
